#!/bin/sh
read -n 1 -p "Скрипт формирует новый код и его исполнение может привести к потере старых данных. Ты уверен, что хочешь запустить это (y/[a]): " AMSURE 
[ "$AMSURE" = "y" ] || exit
echo "" 1>&2

buildPath=$(dirname $(realpath $0))

cd $(realpath $buildPath/../../vendor/happymeal)

#build php, js classes & tests
./happymeal xsd2code -s "../../school30/web/schemas" -o "../../school30" -vjm "School\\Port\\Adaptor\\Data" School

#build controller code
./happymeal wadl2code -s "../../school30/web/schemas" -o "../../school30" -m "School\\Port\\Adaptor\\Data" School